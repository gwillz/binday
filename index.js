/* empty css                    */(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const R=()=>{},oe=e=>e;function B(e){return e===void 0?[]:Array.isArray(e)?e:[e]}function W(e){return e.length===0?void 0:e.length===1?e[0]:e}function rt(e){return e==null?[]:Array.isArray(e)?e:typeof e=="string"||typeof e[Symbol.iterator]!="function"?[e]:[...e]}function it(e){return e!=null&&typeof e.next=="function"}function m(e){return e!=null&&typeof e.then=="function"}const ne="",k=Symbol.for("crank.Portal"),He=Symbol.for("crank.Copy"),Ye=Symbol.for("crank.Raw"),Ge=Symbol.for("crank.Element");class Ce{constructor(t,n,r,i,o){this.tag=t,this.props=n,this.key=r,this.ref=i,this.static_=o}}Ce.prototype.$$typeof=Ge;function ot(e){return e!=null&&e.$$typeof===Ge}function p(e,t,...n){let r,i,o=!1;const s={};if(t!=null)for(const l in t)switch(l){case"crank-key":case"c-key":case"$key":t[l]!=null&&(r=t[l]);break;case"crank-ref":case"c-ref":case"$ref":typeof t[l]=="function"&&(i=t[l]);break;case"crank-static":case"c-static":case"$static":o=!!t[l];break;default:s[l]=t[l]}return n.length>1?s.children=n:n.length===1&&(s.children=n[0]),new Ce(e,s,r,i,o)}function $e(e){if(!(typeof e=="boolean"||e==null)){{if(typeof e=="string"||ot(e))return e;if(typeof e[Symbol.iterator]=="function")return p(ne,null,e)}return e.toString()}}function ke(e){const t=[];let n;for(let r=0;r<e.length;r++){const i=e[r];if(i)if(typeof i=="string")n=(n||"")+i;else if(!Array.isArray(i))n&&(t.push(n),n=void 0),t.push(i);else for(let o=0;o<i.length;o++){const s=i[o];s&&(typeof s=="string"?n=(n||"")+s:(n&&(t.push(n),n=void 0),t.push(s)))}}return n&&t.push(n),t}class Ee{constructor(t){this.el=t,this.ctx=void 0,this.children=void 0,this.value=void 0,this.cachedChildValues=void 0,this.fallbackValue=void 0,this.inflightValue=void 0,this.onNextValues=void 0}}function O(e){return typeof e.fallbackValue<"u"?typeof e.fallbackValue=="object"?O(e.fallbackValue):e.fallbackValue:e.el.tag===k?void 0:typeof e.el.tag!="function"&&e.el.tag!==ne?e.value:W(Z(e))}function Z(e){if(e.cachedChildValues)return B(e.cachedChildValues);const t=[],n=B(e.children);for(let o=0;o<n.length;o++){const s=n[o];s&&t.push(typeof s=="string"?s:O(s))}const r=ke(t),i=e.el.tag;return(typeof i=="function"||i!==ne&&i!==Ye)&&(e.cachedChildValues=W(r)),r}const lt={create(){throw new Error("Not implemented")},hydrate(){throw new Error("Not implemented")},scope:oe,read:oe,text:oe,raw:oe,patch:R,arrange:R,dispose:R,flush:R},ge=Symbol.for("crank.RendererImpl");class st{constructor(t){this.cache=new WeakMap,this[ge]={...lt,...t}}render(t,n,r){let i;const o=r&&r[v];typeof n=="object"&&n!==null&&(i=this.cache.get(n));let s;if(i===void 0)i=new Ee(p(k,{children:t,root:n})),i.value=n,i.ctx=o,typeof n=="object"&&n!==null&&t!=null&&this.cache.set(n,i);else{if(i.ctx!==o)throw new Error("Context mismatch");s=i.el.props,i.el=p(k,{children:t,root:n}),typeof n=="object"&&n!==null&&t==null&&this.cache.delete(n)}const l=this[ge],a=x(l,n,i,o,l.scope(void 0,k,i.el.props),i,t,void 0);return m(a)?a.then(f=>le(l,n,o,i,f,s)):le(l,n,o,i,a,s)}hydrate(t,n,r){const i=this[ge],o=r&&r[v];let s;if(s=this.cache.get(n),s!==void 0)return this.render(t,n,r);let l;s=new Ee(p(k,{children:t,root:n})),s.value=n,typeof n=="object"&&n!==null&&t!=null&&this.cache.set(n,s);const a=i.hydrate(k,n,{}),f=x(i,n,s,o,i.scope(void 0,k,s.el.props),s,t,a);return m(f)?f.then(u=>le(i,n,o,s,u,l)):le(i,n,o,s,f,l)}}function le(e,t,n,r,i,o){return t!=null&&(e.arrange(k,t,r.el.props,i,o,B(r.cachedChildValues)),ye(e,t)),r.cachedChildValues=W(i),t==null&&fe(e,r,n,r),e.read(r.cachedChildValues)}function x(e,t,n,r,i,o,s,l){const a=B(o.children),f=[],u=rt(s),d=[];let h,g,P,K=!1,L,A=0,Ne=a.length;for(let b=0,ie=u.length;b<ie;b++){let c=A>=Ne?void 0:a[A],C=$e(u[b]);{let q=typeof c=="object"?c.el.key:void 0,y=typeof C=="object"?C.key:void 0;if(y!==void 0&&P&&P.has(y)&&(console.error("Duplicate key",y),y=void 0),q===y)g!==void 0&&y!==void 0&&g.delete(y),A++;else if(g=g||at(a,A),y===void 0){for(;c!==void 0&&q!==void 0;)A++,c=a[A],q=typeof c=="object"?c.el.key:void 0;A++}else c=g.get(y),c!==void 0&&g.delete(y),(P=P||new Set).add(y)}let V;if(typeof C=="object"){if(C.tag===He)V=Se(c);else{let y,Ve=!1;if(typeof c=="object"&&c.el.tag===C.tag)y=c.el.props,c.el=C,C.static_&&(V=Se(c),Ve=!0);else{typeof c=="object"&&(h=h||[]).push(c);const nt=c;c=new Ee(C),c.fallbackValue=nt}Ve||(C.tag===Ye?V=L?L.then(()=>Te(e,c,i,y,l)):Te(e,c,i,y,l):C.tag===ne?V=L?L.then(()=>Pe(e,t,n,r,i,c,l)):Pe(e,t,n,r,i,c,l):typeof C.tag=="function"?V=L?L.then(()=>_e(e,t,n,r,i,c,y,l)):_e(e,t,n,r,i,c,y,l):V=L?L.then(()=>Oe(e,t,r,i,c,y,l)):Oe(e,t,r,i,c,y,l))}const q=C.ref;m(V)?(K=!0,typeof q=="function"&&(V=V.then(y=>(q(e.read(y)),y))),l!==void 0&&(L=V)):typeof q=="function"&&q(e.read(V))}else typeof c=="object"&&(h=h||[]).push(c),typeof C=="string"?V=c=e.text(C,i,l):c=void 0;d[b]=V,f[b]=c}for(;A<Ne;A++){const b=a[A];typeof b=="object"&&(h=h||[]).push(b)}if(g!==void 0&&g.size>0&&(h=h||[]).push(...g.values()),o.children=W(f),K){let b=Promise.all(d).finally(()=>{if(h)for(let c=0;c<h.length;c++)fe(e,n,r,h[c])}),ie;return b=Promise.race([b,new Promise(c=>ie=c)]),o.onNextValues&&o.onNextValues(b),o.onNextValues=ie,b.then(c=>(o.inflightValue=o.fallbackValue=void 0,ke(c)))}else{if(h)for(let b=0;b<h.length;b++)fe(e,n,r,h[b]);return o.onNextValues&&(o.onNextValues(d),o.onNextValues=void 0),o.inflightValue=o.fallbackValue=void 0,ke(d)}}function at(e,t){const n=new Map;for(let r=t;r<e.length;r++){const i=e[r];typeof i=="object"&&typeof i.el.key<"u"&&n.set(i.el.key,i)}return n}function Se(e){if(typeof e!="object")return e;const t=typeof e.el.tag=="function"?e.ctx:void 0;return t&&t.f&F&&t.inflightValue?t.inflightValue:e.inflightValue?e.inflightValue:O(e)}function Te(e,t,n,r,i){const o=t.el.props;return(!r||r.value!==o.value)&&(t.value=e.raw(o.value,n,i)),t.value}function Pe(e,t,n,r,i,o,s){const l=x(e,t,n,r,i,o,o.el.props.children,s);return m(l)?(o.inflightValue=l.then(a=>W(a)),o.inflightValue):W(l)}function Oe(e,t,n,r,i,o,s){const l=i.el,a=l.tag;let f;l.tag===k?t=i.value=l.props.root:s!==void 0&&(f=s.children.shift()),r=e.scope(r,a,l.props);let u;f!=null&&typeof f!="string"&&(u=e.hydrate(a,f,l.props),u===void 0&&(f=void 0));const d=x(e,t,i,n,r,i,i.el.props.children,u);return m(d)?(i.inflightValue=d.then(h=>Ae(e,r,i,h,o,f)),i.inflightValue):Ae(e,r,i,d,o,f)}function Ae(e,t,n,r,i,o){const s=n.el.tag;let l=n.value;o!=null&&(l=n.value=o);let a=n.el.props,f;if(s!==k){l==null&&(l=n.value=e.create(s,a,t));for(const u in{...i,...a}){const d=a[u];d===He?(f=f||new Set).add(u):u!=="children"&&e.patch(s,l,u,d,i&&i[u],t)}}if(f){a={...n.el.props};for(const u of f)a[u]=i&&i[u];n.el=new Ce(s,a,n.el.key,n.el.ref)}if(e.arrange(s,l,a,r,i,B(n.cachedChildValues)),n.cachedChildValues=W(r),s===k){ye(e,n.value);return}return l}function ye(e,t,n){if(e.flush(t),typeof t!="object"||t===null)return;const r=X.get(t);if(r){if(n){const i=new Map;for(let[o,s]of r)ct(n,o)||(r.delete(o),i.set(o,s));i.size?X.set(t,i):X.delete(t)}else X.delete(t);for(const[i,o]of r){const s=e.read(O(i.ret));for(const l of o)l(s)}}}function fe(e,t,n,r){if(typeof r.el.tag=="function")n=r.ctx,se(n);else if(r.el.tag===k)t=r,e.arrange(k,t.value,t.el.props,[],t.el.props,B(t.cachedChildValues)),ye(e,t.value);else if(r.el.tag!==ne){if(Q(r.value)){const o=Ue(n,t);for(let s=0;s<o.length;s++){const l=o[s];r.value.removeEventListener(l.type,l.callback,l.options)}}e.dispose(r.el.tag,r.value,r.el.props),t=r}const i=B(r.children);for(let o=0;o<i.length;o++){const s=i[o];typeof s=="object"&&fe(e,t,n,s)}}const F=1,w=2,S=4,ee=8,H=16,te=32,D=64,M=128,J=256,$=512,we=1024,me=2048,be=new WeakMap,ue=new WeakMap,ce=new WeakMap,X=new WeakMap;class ft{constructor(t,n,r,i,o,s){this.f=0,this.owner=new ut(this),this.renderer=t,this.root=n,this.host=r,this.parent=i,this.scope=o,this.ret=s,this.iterator=void 0,this.inflightBlock=void 0,this.inflightValue=void 0,this.enqueuedBlock=void 0,this.enqueuedValue=void 0,this.onProps=void 0,this.onPropsRequested=void 0}}const v=Symbol.for("crank.ContextImpl");class ut{constructor(t){this[v]=t}get props(){return this[v].ret.el.props}get value(){return this[v].renderer.read(O(this[v].ret))}*[Symbol.iterator](){const t=this[v];try{for(t.f|=S;!(t.f&M);){if(t.f&H)throw new Error("Context iterated twice without a yield");t.f|=H,yield t.ret.el.props}}finally{t.f&=~S}}async*[Symbol.asyncIterator](){const t=this[v];if(t.f&J)throw new Error("Use for...of in sync generator components");try{for(t.f|=ee;!(t.f&M);){if(t.f&H)throw new Error("Context iterated twice without a yield");if(t.f|=H,t.f&te)t.f&=~te,yield t.ret.el.props;else{const n=await new Promise(r=>t.onProps=r);if(t.f&M)break;yield n}t.onPropsRequested&&(t.onPropsRequested(),t.onPropsRequested=void 0)}}finally{t.f&=~ee,t.onPropsRequested&&(t.onPropsRequested(),t.onPropsRequested=void 0)}}refresh(){const t=this[v];if(t.f&M)return console.error("Component is unmounted"),t.renderer.read(void 0);if(t.f&w)return console.error("Component is already executing"),this.value;const n=de(t);return m(n)?n.then(r=>t.renderer.read(r)):t.renderer.read(n)}schedule(t){const n=this[v];let r=ue.get(n);r||(r=new Set,ue.set(n,r)),r.add(t)}flush(t){const n=this[v];if(typeof n.root!="object"||n.root===null)return;let r=X.get(n.root);r||(r=new Map,X.set(n.root,r));let i=r.get(n);i||(i=new Set,r.set(n,i)),i.add(t)}cleanup(t){const n=this[v];if(n.f&M){const i=n.renderer.read(O(n.ret));t(i);return}let r=ce.get(n);r||(r=new Set,ce.set(n,r)),r.add(t)}consume(t){for(let n=this[v].parent;n!==void 0;n=n.parent){const r=be.get(n);if(r&&r.has(t))return r.get(t)}}provide(t,n){const r=this[v];let i=be.get(r);i||(i=new Map,be.set(r,i)),i.set(t,n)}addEventListener(t,n,r){const i=this[v];let o;if(Be(n)){const a=I.get(i);a?o=a:(o=[],I.set(i,o))}else return;r=qe(r);let s;typeof n=="object"?s=()=>n.handleEvent.apply(n,arguments):s=n;const l={type:t,listener:n,callback:s,options:r};if(r.once&&(l.callback=function(){const a=o.indexOf(l);return a!==-1&&o.splice(a,1),s.apply(this,arguments)}),!o.some(a=>l.type===a.type&&l.listener===a.listener&&!l.options.capture==!a.options.capture)){o.push(l);for(const a of Z(i.ret))Q(a)&&a.addEventListener(l.type,l.callback,l.options)}}removeEventListener(t,n,r){const i=this[v],o=I.get(i);if(o==null||!Be(n))return;const s=qe(r),l=o.findIndex(f=>f.type===t&&f.listener===n&&!f.options.capture==!s.capture);if(l===-1)return;const a=o[l];o.splice(l,1);for(const f of Z(i.ret))Q(f)&&f.removeEventListener(a.type,a.callback,a.options)}dispatchEvent(t){const n=this[v],r=[];for(let s=n.parent;s!==void 0;s=s.parent)r.push(s);let i=!1;const o=t.stopImmediatePropagation;_(t,"stopImmediatePropagation",()=>(i=!0,o.call(t))),_(t,"target",n.owner);try{_(t,"eventPhase",yt);for(let s=r.length-1;s>=0;s--){const l=r[s],a=I.get(l);if(a){_(t,"currentTarget",l.owner);for(const f of a)if(f.type===t.type&&f.options.capture){try{f.callback.call(l.owner,t)}catch(u){console.error(u)}if(i)return!0}}if(t.cancelBubble)return!0}{_(t,"eventPhase",gt),_(t,"currentTarget",n.owner);const s=n.ret.el.props["on"+t.type];if(s!=null&&(s(t),i||t.cancelBubble))return!0;const l=I.get(n);if(l){for(const a of l)if(a.type===t.type){try{a.callback.call(n.owner,t)}catch(f){console.error(f)}if(i)return!0}if(t.cancelBubble)return!0}}if(t.bubbles){_(t,"eventPhase",wt);for(let s=0;s<r.length;s++){const l=r[s],a=I.get(l);if(a){_(t,"currentTarget",l.owner);for(const f of a)if(f.type===t.type&&!f.options.capture){try{f.callback.call(l.owner,t)}catch(u){console.error(u)}if(i)return!0}}if(t.cancelBubble)return!0}}}finally{return _(t,"eventPhase",pt),_(t,"currentTarget",null),!t.defaultPrevented}}}function ct(e,t){for(let n=t;n!==void 0;n=n.parent)if(n===e)return!0;return!1}function _e(e,t,n,r,i,o,s,l){let a;if(s){if(a=o.ctx,a.f&w)return console.error("Component is already executing"),o.cachedChildValues}else a=o.ctx=new ft(e,t,n,r,i,o);return a.f|=F,de(a,l)}function Y(e,t,n){if(e.f&M)return;if(e.f&D)return;t===void 0&&console.error("A component has returned or yielded undefined. If this was intentional, return or yield null instead.");let r;try{e.f|=w,r=x(e.renderer,e.root,e.host,e,e.scope,e.ret,$e(t),n)}finally{e.f&=~w}return m(r)?(e.ret.inflightValue=r.then(i=>De(e,i)),e.ret.inflightValue):De(e,r)}function De(e,t){if(e.f&M)return;const n=I.get(e);if(n&&n.length)for(let s=0;s<t.length;s++){const l=t[s];if(Q(l))for(let a=0;a<n.length;a++){const f=n[a];l.addEventListener(f.type,f.callback,f.options)}}const r=B(e.ret.cachedChildValues);let i=e.ret.cachedChildValues=W(t);if(e.f&we)e.f|=me;else if(!(e.f&F)){if(!ht(r,t)){const s=Ue(e.parent,e.host);if(s.length)for(let u=0;u<t.length;u++){const d=t[u];if(Q(d))for(let h=0;h<s.length;h++){const g=s[h];d.addEventListener(g.type,g.callback,g.options)}}const l=e.host,a=B(l.cachedChildValues);dt(e,l);const f=Z(l);e.renderer.arrange(l.el.tag,l.value,l.el.props,f,l.el.props,a)}ye(e.renderer,e.root,e)}const o=ue.get(e);if(o){ue.delete(e),e.f|=we;const s=e.renderer.read(i);for(const l of o)l(s);e.f&=~we,e.f&me&&(e.f&=~me,i=O(e.ret))}return e.f&=~F,i}function dt(e,t){for(let n=e.parent;n!==void 0&&n.host===t;n=n.parent)n.ret.cachedChildValues=void 0;t.cachedChildValues=void 0}function ht(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){const r=e[n],i=t[n];if(r!==i)return!1}return!0}function de(e,t){if(e.f&$&&!(e.f&S)){if(t!==void 0)throw new Error("Hydration error");const n=e.f&ee&&!e.onProps;return re(e),n?(e.inflightBlock==null&&(e.inflightBlock=new Promise(r=>e.onPropsRequested=r)),e.inflightBlock.then(()=>(e.inflightBlock=void 0,e.inflightValue))):e.inflightValue}else if(e.inflightBlock){if(!e.enqueuedBlock){if(t!==void 0)throw new Error("Hydration error");let n;e.enqueuedBlock=new Promise(r=>n=r),e.enqueuedValue=e.inflightBlock.then(()=>{try{const[r,i]=Le(e);return r&&n(r.finally(()=>Me(e))),i}catch(r){if(!(e.f&F)){if(!e.parent)throw r;return j(e.parent,r)}throw r}})}}else try{const[n,r]=Le(e,t);return n&&(e.inflightBlock=n.then(i=>i).finally(()=>Me(e)),e.inflightValue=r),r}catch(n){if(!(e.f&F)){if(!e.parent)throw n;return j(e.parent,n)}throw n}return e.enqueuedValue}function Me(e){e.f&$&&!(e.f&S)||(e.inflightBlock=e.enqueuedBlock,e.inflightValue=e.enqueuedValue,e.enqueuedBlock=void 0,e.enqueuedValue=void 0)}function Le(e,t){const n=e.ret,r=!e.iterator;if(r){re(e),e.f|=w,Ke(e);let o;try{o=n.el.tag.call(e.owner,n.el.props)}catch(s){throw e.f|=D,s}finally{e.f&=~w}if(it(o))e.iterator=o;else if(m(o)){const s=o instanceof Promise?o:Promise.resolve(o),l=s.then(a=>Y(e,a,t),a=>{throw e.f|=D,a});return[s.catch(R),l]}else return[void 0,Y(e,o,t)]}else if(t!==void 0)throw new Error("Hydration error");let i;if(r){try{e.f|=w,i=e.iterator.next()}catch(o){throw e.f|=D,o}finally{e.f&=~w}m(i)?e.f|=$:e.f|=J}if(e.f&J){if(e.f&=~H,!r)try{e.f|=w,i=e.iterator.next(e.renderer.read(O(n)))}catch(l){throw e.f|=D,l}finally{e.f&=~w}if(m(i))throw new Error("Mixed generator component");i.done&&(e.f&=~J,e.iterator=void 0);let o;try{o=Y(e,i.value,t),m(o)&&(o=o.catch(l=>G(e,l)))}catch(l){o=G(e,l)}return[m(o)?o.catch(R):void 0,o]}else if(e.f&S){if(e.f&=~H,!r)try{e.f|=w,i=e.iterator.next(e.renderer.read(O(n)))}catch(l){throw e.f|=D,l}finally{e.f&=~w}if(!m(i))throw new Error("Mixed generator component");const o=i.catch(R),s=i.then(l=>{let a;e.f&S||Ie(e,Promise.resolve(l),t);try{a=Y(e,l.value,t),m(a)&&(a=a.catch(f=>G(e,f)))}catch(f){a=G(e,f)}return a},l=>{throw e.f|=D,l});return[o,s]}else return Ie(e,i,t),[e.inflightBlock,e.inflightValue]}async function Ie(e,t,n){let r=!1;try{for(;!r&&!(e.f&S);){let i;e.inflightValue=new Promise(a=>i=a),e.f&F&&e.inflightValue.catch(R);let o;try{o=await t}catch(a){r=!0,e.f|=D,i(Promise.reject(a));break}finally{e.f&=~H,e.f&ee||(e.f&=~te)}r=!!o.done;let s;try{s=Y(e,o.value,n),n=void 0,m(s)&&(s=s.catch(a=>G(e,a)))}catch(a){s=G(e,a)}finally{i(s)}let l;if(e.ret.inflightValue?(l=e.ret.inflightValue.then(a=>e.renderer.read(a)),l.catch(a=>{if(!(e.f&F)){if(!e.parent)throw a;return j(e.parent,a)}})):l=e.renderer.read(O(e.ret)),e.f&M)if(e.f&ee)try{e.f|=w,t=e.iterator.next(l)}finally{e.f&=~w}else{ae(e);break}else if(!r&&!(e.f&S))try{e.f|=w,t=e.iterator.next(l)}finally{e.f&=~w}}}finally{r&&(e.f&=~$,e.iterator=void 0)}}function re(e){e.onProps?(e.onProps(e.ret.el.props),e.onProps=void 0,e.f&=~te):e.f|=te}function se(e){if(e.f&M)return;Ke(e);const t=ce.get(e);if(t){ce.delete(e);const n=e.renderer.read(O(e.ret));for(const r of t)r(n)}if(e.f|=M,e.iterator)if(e.f&J){let n;e.f&S&&(n=de(e)),m(n)?n.then(()=>{e.f&S?se(e):ae(e)},r=>{if(!e.parent)throw r;return j(e.parent,r)}):e.f&S?se(e):ae(e)}else e.f&$&&(e.f&S?de(e).then(()=>{e.f&S?se(e):ae(e)},r=>{if(!e.parent)throw r;return j(e.parent,r)}):re(e))}function ae(e){if(re(e),e.iterator&&typeof e.iterator.return=="function")try{e.f|=w;const t=e.iterator.return();m(t)&&t.catch(n=>{if(!e.parent)throw n;return j(e.parent,n)})}finally{e.f&=~w}}const pt=0,yt=1,gt=2,wt=3,I=new WeakMap;function Be(e){return typeof e=="function"||e!==null&&typeof e=="object"&&typeof e.handleEvent=="function"}function qe(e){return typeof e=="boolean"?{capture:e}:e??{}}function Q(e){return e!=null&&typeof e.addEventListener=="function"&&typeof e.removeEventListener=="function"&&typeof e.dispatchEvent=="function"}function _(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!0})}function Ue(e,t){let n=[];for(;e!==void 0&&e.host===t;){const r=I.get(e);r&&(n=n.concat(r)),e=e.parent}return n}function Ke(e){const t=I.get(e);if(t&&t.length){for(const n of Z(e.ret))if(Q(n))for(const r of t)n.removeEventListener(r.type,r.callback,r.options);t.length=0}}function G(e,t){if(!e.iterator||typeof e.iterator.throw!="function")throw t;re(e);let n;try{e.f|=w,n=e.iterator.throw(t)}catch(r){throw e.f|=D,r}finally{e.f&=~w}return m(n)?n.then(r=>(r.done&&(e.f&=~$,e.iterator=void 0),Y(e,r.value)),r=>{throw e.f|=D,r}):(n.done&&(e.f&=~J,e.f&=~$,e.iterator=void 0),Y(e,n.value))}function j(e,t){let n;try{n=G(e,t)}catch(r){if(!e.parent)throw r;return j(e.parent,r)}return m(n)?n.catch(r=>{if(!e.parent)throw r;return j(e.parent,r)}):n}const ve="http://www.w3.org/2000/svg",mt={scope(e,t,n){switch(t){case k:e=void 0;break;case"svg":e=ve;break}return n.xmlns||e},create(e,t,n){if(typeof e!="string")throw new Error(`Unknown tag: ${e.toString()}`);return e.toLowerCase()==="svg"&&(n=ve),n?document.createElementNS(n,e):document.createElement(e)},hydrate(e,t,n){if(typeof e!="string"&&e!==k)throw new Error(`Unknown tag: ${e.toString()}`);if(typeof e=="string"&&e.toUpperCase()!==t.tagName)return;const r=[];for(let i=0;i<t.childNodes.length;i++){const o=t.childNodes[i];o.nodeType===Node.TEXT_NODE?r.push(o.data):o.nodeType===Node.ELEMENT_NODE&&r.push(o)}return{props:n,children:r}},patch(e,t,n,r,i,o){const s=o===ve;switch(n){case"style":{const l=t.style;if(l==null)t.setAttribute("style",r);else if(r==null||r===!1)t.removeAttribute("style");else if(r===!0)t.setAttribute("style","");else if(typeof r=="string")l.cssText!==r&&(l.cssText=r);else{typeof i=="string"&&(l.cssText="");for(const a in{...i,...r}){const f=r&&r[a];f==null?l.removeProperty(a):l.getPropertyValue(a)!==f&&l.setProperty(a,f)}}break}case"class":case"className":r===!0?t.setAttribute("class",""):r==null?t.removeAttribute("class"):s?t.getAttribute("class")!==r&&t.setAttribute("class",r):t.className!==r&&(t.className=r);break;case"innerHTML":r!==i&&(t.innerHTML=r);break;default:{if(n in t&&!(typeof r=="string"&&typeof t[n]=="boolean")){let l=t;do if(Object.prototype.hasOwnProperty.call(l,n))break;while(l=Object.getPrototypeOf(l));const a=Object.getOwnPropertyDescriptor(l,n);if(a!=null&&(a.writable===!0||a.set!==void 0)){(t[n]!==r||i===void 0)&&(t[n]=r);return}}if(r===!0)r="";else if(r==null||r===!1){t.removeAttribute(n);return}t.getAttribute(n)!==r&&t.setAttribute(n,r)}}},arrange(e,t,n,r,i,o){if(e===k&&(t==null||typeof t.nodeType!="number"))throw new TypeError(`Portal root is not a node. Received: ${JSON.stringify(t&&t.toString())}`);if(!("innerHTML"in n)&&("children"in n||o&&o.length))if(r.length===0)t.textContent="";else{let s=t.firstChild,l=0;for(;s!==null&&l<r.length;){const a=r[l];if(s===a)s=s.nextSibling,l++;else if(typeof a=="string")s.nodeType===Node.TEXT_NODE?(s.data!==a&&(s.data=a),s=s.nextSibling):t.insertBefore(document.createTextNode(a),s),l++;else if(s.nodeType===Node.TEXT_NODE){const f=s.nextSibling;t.removeChild(s),s=f}else if(t.insertBefore(a,s),l++,s!==r[l]){const f=s.nextSibling;t.removeChild(s),s=f}}for(;s!==null;){const a=s.nextSibling;t.removeChild(s),s=a}for(;l<r.length;l++){const a=r[l];t.appendChild(typeof a=="string"?document.createTextNode(a):a)}}},text(e,t,n){if(n!=null){let r=n.children.shift();typeof r!="string"||!r.startsWith(e)||e.length<r.length&&(r=r.slice(e.length),n.children.unshift(r))}return e},raw(e,t,n){let r;if(typeof e=="string"){const i=t==null?document.createElement("div"):document.createElementNS(t,"svg");i.innerHTML=e,i.childNodes.length===0?r=void 0:i.childNodes.length===1?r=i.childNodes[0]:r=Array.from(i.childNodes)}else r=e;if(n!=null)if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];typeof o!="string"&&(o.nodeType===Node.ELEMENT_NODE||o.nodeType===Node.TEXT_NODE)&&n.children.shift()}else r!=null&&typeof r!="string"&&(r.nodeType===Node.ELEMENT_NODE||r.nodeType===Node.TEXT_NODE)&&n.children.shift();return r}};class bt extends st{constructor(){super(mt)}render(t,n,r){return Re(n),super.render(t,n,r)}hydrate(t,n,r){return Re(n),super.hydrate(t,n,r)}}function Re(e){if(e===null||typeof e=="object"&&typeof e.nodeType!="number")throw new TypeError(`Render root is not a node. Received: ${JSON.stringify(e&&e.toString())}`)}const vt=new bt;function kt(e){document.readyState==="complete"?e():(window.addEventListener("load",t),document.addEventListener("DOMContentLoaded",t));function t(){window.removeEventListener("load",t),document.removeEventListener("DOMContentLoaded",t),e()}}async function Et(e){try{const n=sessionStorage.getItem("binday:geo");if(e!=null&&e.cache&&n){const r=JSON.parse(n);if(!r.latitude||!r.longitude)throw new Error("cache: invalid coordinate data");if(r._timestamp<Date.now()-1e3*e.cache)throw new Error("cache: expired");return r}}catch(n){console.warn(n.message)}const t=await new Promise((n,r)=>{navigator.geolocation.getCurrentPosition(i=>n(i.coords),r,e)});return sessionStorage.setItem("binday:geo",JSON.stringify({_timestamp:Date.now(),latitude:t.latitude,longitude:t.longitude,accuracy:t.accuracy,altitude:t.altitude,altitudeAccuracy:t.altitudeAccuracy,heading:t.heading,speed:t.speed})),t}function E(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function N(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function T(e){N(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function Ct(e,t){N(2,arguments);var n=T(e),r=E(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Nt(e,t){N(2,arguments);var n=T(e),r=E(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+r+1,0);var s=o.getDate();return i>=s?o:(n.setFullYear(o.getFullYear(),o.getMonth(),i),n)}function Vt(e,t){if(N(2,arguments),!t||typeof t!="object")return new Date(NaN);var n="years"in t?E(t.years):0,r="months"in t?E(t.months):0,i="weeks"in t?E(t.weeks):0,o="days"in t?E(t.days):0,s="hours"in t?E(t.hours):0,l="minutes"in t?E(t.minutes):0,a="seconds"in t?E(t.seconds):0,f=T(e),u=r||n?Nt(f,r+n*12):f,d=o||i?Ct(u,o+i*7):u,h=l+s*60,g=a+h*60,P=g*1e3,K=new Date(d.getTime()+P);return K}function St(e){N(1,arguments);var t=T(e),n=t.getDay();return n===0||n===6}function he(e,t){N(1,arguments);var n=t||{},r=n.locale,i=r&&r.options&&r.options.weekStartsOn,o=i==null?0:E(i),s=n.weekStartsOn==null?o:E(n.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=T(e),a=l.getDay(),f=(a<s?7:0)+a-s;return l.setDate(l.getDate()-f),l.setHours(0,0,0,0),l}function We(e){N(1,arguments);var t=T(e);return t.setHours(0,0,0,0),t}function Tt(e,t){N(2,arguments);var n=We(e),r=We(t);return n.getTime()===r.getTime()}function Pt(e,t){N(1,arguments);var n=T(e),r=n.getFullYear(),i=t||{},o=i.locale,s=o&&o.options&&o.options.firstWeekContainsDate,l=s==null?1:E(s),a=i.firstWeekContainsDate==null?l:E(i.firstWeekContainsDate);if(!(a>=1&&a<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setFullYear(r+1,0,a),f.setHours(0,0,0,0);var u=he(f,t),d=new Date(0);d.setFullYear(r,0,a),d.setHours(0,0,0,0);var h=he(d,t);return n.getTime()>=u.getTime()?r+1:n.getTime()>=h.getTime()?r:r-1}function Ot(e,t){N(1,arguments);var n=t||{},r=n.locale,i=r&&r.options&&r.options.firstWeekContainsDate,o=i==null?1:E(i),s=n.firstWeekContainsDate==null?o:E(n.firstWeekContainsDate),l=Pt(e,t),a=new Date(0);a.setFullYear(l,0,s),a.setHours(0,0,0,0);var f=he(a,t);return f}var At=6048e5;function _t(e,t){N(1,arguments);var n=T(e),r=he(n,t).getTime()-Ot(n,t).getTime();return Math.round(r/At)+1}function Dt(e,t){N(2,arguments);var n=T(e),r=T(t);return n.getTime()<r.getTime()}function Mt(e,t){N(2,arguments);var n=T(e),r=T(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Lt(e){return N(1,arguments),Tt(e,Date.now())}function It(e,t,n){if(n=n||{},!ze(n))throw new Error("options is invalid");var r=n.bbox,i=n.id;if(e===void 0)throw new Error("geometry is required");if(t&&t.constructor!==Object)throw new Error("properties must be an Object");r&&Xe(r),i&&Je(i);var o={type:"Feature"};return i&&(o.id=i),r&&(o.bbox=r),o.properties=t||{},o.geometry=e,o}function Bt(e,t,n){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!U(e[0])||!U(e[1]))throw new Error("coordinates must contain numbers");return It({type:"Point",coordinates:e},t,n)}function qt(e,t){if(t=t||{},!ze(t))throw new Error("options is invalid");var n=t.bbox,r=t.id;if(!e)throw new Error("No features passed");if(!Array.isArray(e))throw new Error("features must be an Array");n&&Xe(n),r&&Je(r);var i={type:"FeatureCollection"};return r&&(i.id=r),n&&(i.bbox=n),i.features=e,i}function U(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function ze(e){return!!e&&e.constructor===Object}function Xe(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(e.length!==4&&e.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(function(t){if(!U(t))throw new Error("bbox must only contain numbers")})}function Je(e){if(!e)throw new Error("id is required");if(["string","number"].indexOf(typeof e)===-1)throw new Error("id must be a number or a string")}function Rt(e){if(!e)throw new Error("obj is required");var t=Qe(e);if(t.length>1&&U(t[0])&&U(t[1]))return t;throw new Error("Coordinate is not a valid Point")}function Qe(e){if(!e)throw new Error("obj is required");var t;if(e.length?t=e:e.coordinates?t=e.coordinates:e.geometry&&e.geometry.coordinates&&(t=e.geometry.coordinates),t)return Ze(t),t;throw new Error("No valid coordinates")}function Ze(e){if(e.length>1&&U(e[0])&&U(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return Ze(e[0]);throw new Error("coordinates must only contain numbers")}function Wt(e,t,n){if(n=n||{},typeof n!="object")throw new Error("options is invalid");var r=n.ignoreBoundary;if(!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");var i=Rt(e),o=Qe(t),s=t.geometry?t.geometry.type:t.type,l=t.bbox;if(l&&Ft(i,l)===!1)return!1;s==="Polygon"&&(o=[o]);for(var a=0,f=!1;a<o.length&&!f;a++)if(Fe(i,o[a][0],r)){for(var u=!1,d=1;d<o[a].length&&!u;)Fe(i,o[a][d],!r)&&(u=!0),d++;u||(f=!0)}return f}function Fe(e,t,n){var r=!1;t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]&&(t=t.slice(0,t.length-1));for(var i=0,o=t.length-1;i<t.length;o=i++){var s=t[i][0],l=t[i][1],a=t[o][0],f=t[o][1],u=e[1]*(s-a)+l*(a-e[0])+f*(e[0]-s)===0&&(s-e[0])*(a-e[0])<=0&&(l-e[1])*(f-e[1])<=0;if(u)return!n;var d=l>e[1]!=f>e[1]&&e[0]<(a-s)*(e[1]-l)/(f-l)+s;d&&(r=!r)}return r}function Ft(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}function jt(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var n=0;n<e.features.length;n++)t(e.features[n],n)}function Ht(e,t){var n,r,i,o,s,l,a,f,u,d,h=0,g=e.type==="FeatureCollection",P=e.type==="Feature",K=g?e.features.length:1;for(n=0;n<K;n++){for(l=g?e.features[n].geometry:P?e.geometry:e,f=g?e.features[n].properties:P?e.properties:{},u=g?e.features[n].bbox:P?e.bbox:void 0,d=g?e.features[n].id:P?e.id:void 0,a=l?l.type==="GeometryCollection":!1,s=a?l.geometries.length:1,i=0;i<s;i++){if(o=a?l.geometries[i]:l,o===null){t(null,h,f,u,d);continue}switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{t(o,h,f,u,d);break}case"GeometryCollection":{for(r=0;r<o.geometries.length;r++)t(o.geometries[r],h,f,u,d);break}default:throw new Error("Unknown Geometry Type")}}h++}}function Yt(e,t){var n=[];return Ht(t,function(r){jt(e,function(i){Wt(i,r)&&n.push(i)})}),qt(n)}const pe=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];function Gt(e,t){const n=_t(new Date);if(!xe(e.map))return console.warn("Not a feature collection:",e.map),{};const r=Bt([t.longitude,t.latitude]),i=e.map.features.find(s=>Ut(s.geometry)&&Yt(r,s.geometry).features.length>0);if(!i)return{};if(!i.properties)return console.warn("Found a feature but no properties:",i),{};const o={};for(let[s,l]of Object.entries(i.properties)){if(typeof l!="string"||!e.patterns[s])continue;const a=e.patterns[s],f=a[(n-1)%a.length];if(l=l.toLowerCase().trim(),!Kt(l)){console.warn("invalid day:",l);continue}o[l]?o[l].push(f):o[l]=[f]}return o}function $t(e){return e&&!!e.patterns&&xe(e.map)}function xe(e){return!!e&&e.type==="FeatureCollection"}function Ut(e){return!!e&&(e.type==="Polygon"||e.type==="MultiPolygon")}function Kt(e){return!!e&&typeof e=="string"&&pe.includes(e)}function zt(e){const t=new Date(e.getFullYear(),e.getMonth(),1),n=Vt(t,{days:-1*t.getDay()}),r=[];let i=new Date(n.getTime());i.setHours(0,0,0,0);for(let o=0;o<42;o++){let s=o%7,l=Math.floor(o/7);s===0&&(r[l]=[]),r[l][s]=new Date(i.getTime()),i.setDate(i.getDate()+1)}return r}const Xt="_widget_1gl5q_2",Jt="_day_1gl5q_17",Qt="_label_1gl5q_31",Zt="_icons_1gl5q_37",xt="_icon_1gl5q_37",z={widget:Xt,day:Jt,label:Qt,icons:Zt,icon:xt},en="_calendar_1uy8b_2",tn="_today_1uy8b_21",nn="_weekend_1uy8b_25",rn="_off_1uy8b_33",et={calendar:en,today:tn,weekend:nn,"time-travel":"_time-travel_1uy8b_29",off:rn};function on(e){const t=new Date().setHours(0,0,0,0),n={off:!Mt(e,t),weekend:St(e),today:Lt(e),"time-travel":Dt(e,t)};return Object.entries(n).reduce((r,[i,o])=>o?`${r} ${et[i]}`:r,"")}function ln(e){const t=e.today.toLocaleString("en",{month:"long"});return p("table",{class:et.calendar},p("thead",null,p("tr",null,p("th",{colspan:pe.length},t)),p("tr",null,pe.map(n=>p("th",null,n.slice(0,2))))),p("tbody",null,zt(e.today).map((n,r)=>p("tr",{"crank-key":r},n.map((i,o)=>p("td",{class:on(i),"crank-key":o},e.children?e.children(i):i.getDate()))))))}function je(e){const t=new Date,n=Object.values(e.bins).some(r=>r.length>0);return p("div",{class:z.widget},p(ln,{today:t},r=>p("div",{class:z.day},p("div",{class:z.label},r.getDate()),p("div",{class:z.icons},(e.bins[pe[r.getDay()]]??[]).map(i=>p("div",{"crank-key":i,class:z.icon,style:{"background-color":i}}))))),p("div",{class:z.status},e.coordinates?n?null:p("p",null,"Sorry, no bin data for your location."):p("p",null,"Acquiring location...")))}async function*sn(e){let t=null,n={},r;for await(e of this){yield p(je,{bins:n}),t=await(await fetch(e.url,{mode:"cors"})).json(),$t(t)||(console.warn("invalid map config:",e.url),t=null);try{r=await Et({enableHighAccuracy:!0,cache:300})}catch(o){console.error(o)}t&&r&&(n=Gt(t,r)),yield p(je,{bins:n,coordinates:r})}}async function tt(){const e=document.querySelectorAll("[data-binday]");for(let t of e)t.dataset.binday!=="true"&&(an(t),t.dataset.binday="true")}async function an(e){const t=e.getAttribute("data-binday");try{if(!t)throw new Error("missing binday URL");vt.render(p(sn,{url:t}),e)}catch(n){console.error(n)}}Object.defineProperty(window,"__binday__",{writable:!1,value:Object.freeze({render:tt})});kt(tt);
