<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bin day: static widget</title>
</head>
<body>
<div id="example">
    <div id="binday">Loading...</div>
    <script async defer>
        navigator.geolocation.getCurrentPosition(geo => {
            fetch(`/widget?map=npsp&lat=${geo.coords.latitude}&lng=${geo.coords.longitude}`)
            .then(res => res.text())
            .then(data => {
                const element = document.getElementById('binday');
                element.innerHTML = data;
            })
        });
    </script>
</div>
<pre id="preview"></pre>
<script>
    window.$ = document.querySelector.bind(document);
    $("#preview").innerText = $("#example").innerHTML;
</script>
</body>
</html>
