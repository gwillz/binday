<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bin day: api</title>
</head>
<body>
<div id="example">
    <div id="binday">Loading...</div>
    <script async defer>
        navigator.geolocation.getCurrentPosition(geo => {
            fetch(`/api/bins?map=npsp&lat=${geo.coords.latitude}&lng=${geo.coords.longitude}`)
            .then(res => res.json())
            .then(data => {
                const element = document.getElementById('binday');
                console.log("week", data.bin_week);
                console.log("day", data.bin_day);
                
                element.innerHTML = `
                    <div>Week: ${data.bin_week}</div>
                    <div>Day: ${data.bin_day}</div>
                `;
            })
        });
    </script>
</div>
<pre id="preview"></pre>
<script>
    window.$ = document.querySelector.bind(document);
    $("#preview").innerText = $("#example").innerHTML;
</script>
</body>
</html>
